{% extends "base.html" %}

{% block title %}Event Detail | {{ data["name"] }}{% endblock %}

{% block content %}
<!--
TESTING DATA:
<div id="results-as-json">
    <h2>Results as JSON</h2>
    <pre>{{ pformat(data) }}</pre>
</div>
-->
<h2>Event Name: {{ data["name"] }}</h2>
    <img src={{ data["images"][4]["url"] }}>
    <p>Event Description:</br>
        {% if "description" in data %}
            {{ data["description"] }}
        {% elif "info" in data %}
            {{ data["info"] }}
        {% else %}
            No desciption available.
        {% endif %}
    </p>

    <p>Event Genre:</br>
            {% if "classifications" in data %}
                {{ data["classifications"][0]["genre"]["name"] }}
            {% else %}
                Undefined.
            {% endif %}
    </p>

    <p>Event Start Date:</br> 
        {{ data["dates"]["start"]["localDate"] }} at {{ data["dates"]["start"]["localTime"]}}
    </p>

    <p>Event Location:</br> 
        {{ event[0]["name"] }}
    </p>

    {% if "seatmap" in data %}
        <p>Seat Map: <img src={{ data["seatmap"]["staticUrl"] }}></p>
    {% endif %}
    
    <p>
        Event Address: {{ event[0]["address"]["line1"] }}, {{ event[0]["city"]["name"] }}, {{ event[0]["state"]["name"] }} {{ event[0]["postalCode"]}}
    </p>

    {% if "priceRanges" in data %}
        <p>Price Range(*not including tax and fees): ${{ data["priceRanges"][0]["min"] }} - ${{ data["priceRanges"][0]["max"] }}
    {% endif %}
    
    <p>Purchase Event Ticket:</br> 
        <a href={{ data["url"] }} target="_blank">Tickemaster</a>
        {% if "outlets" in data %}
        Or <a href={{ data["outlets"][0]["url"] }}>Box Office Site</a>
        {% endif %}
    </p>
    
    <p>For More Information/Questions: </br>
        {% if "ada" in data %}
            {{ event[0]["ada"]["adaCustomCopy"] }}
        {% elif "pleaseNote" in data %}
            {{ data["pleaseNote"] }}
        {% elif "outlets" in data %}
            Visit <a href={{ data["outlets"][0]["url"] }}>{{ data["outlets"][0]["url"] }}</a>
        {% else %}
            Not available.
        {% endif %}
    </p>
        
============================================
    <form action="/event/<id>/review" method="POST">
        <p>Create review:AJAX? (right col=6 , Bootstrap)</p>
        <div>
            <label class="form-label above" for="rating">Rating: (1-5 stars)</label>
            <input id="rating-score" class="form-control" type="text" name="rating" placeholder="Enter rating (1-5)"> 
            <!--Add CSS for stars HERE-->
        </div>
        
        <div>
            <label class="form-label above" for="review-title">Review Title:</label>
            <input id="review-title" class="form-control" type="text" name="title" placeholder="Enter the title for this review"> 
        </div>
        
        <div>
            <label class="form-label above" for="review-description">Review:</label>
            <textarea id="review-description" class="form-control" type="text" name="review" rows="5" cols="50" placeholder="Enter review here"></textarea>
        </div>
        
        <div>
            <label class="form-label above" for="recommendation">Would you recommend this event to others?</label>
                <input type="radio" id="yes-no" name="recommendation" value="yes">
                    <label for="yes">Yes</label>
                <input type="radio" id="yes-no" name="recommendation" value="no">
                    <label for="no">No</label>
        </div>
        
        <div class="col-3">
            <input type="submit" value="Submit Review">
        </div>
    </form>

    <p>Reviews: (Left, col=6) + Rank reviews by highest rating/lowest rating/most recent date(2.0/3.0)</p>

<div>google map on right hand side (Bootstrap)</div>

<script src = '/static/js/add_review.js'></script>
{% endblock %}